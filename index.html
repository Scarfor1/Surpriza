<script>
  const RECIPIENT_NAME = 'Ana'; // schimbă cu numele dorit

  const slides = [
    { title: "Hey,", body: "Nu era planificat, dar m-am gândit să-ți trimit ceva... o mică surpriză. Trebuie doar să tragi panglica și să vezi." },
    { title: "Momentul 1", body: "Îmi place cum râzi și cum transformi orice lucru plictisitor într-o poveste genială. M-ai inspirat să fiu mai atent." },
    { title: "Glumă mică", body: "Dacă viața ar fi un joc, tu ai fi acel power-up rar care face totul mai distractiv." },
    { title: "Final", body: "Sper că această mică scrisoare îți aduce zâmbetul pe buze. La mulți ani și cât mai multe momente frumoase!" }
  ];

  const titleEl = document.getElementById("title");
  const slidesContainer = document.getElementById("slidesContainer");
  const dotsEl = document.getElementById("dots");
  const ribbon = document.getElementById("ribbon");
  const letter = document.getElementById("letter");
  const prevBtn = document.getElementById("prev");
  const nextBtn = document.getElementById("next");
  const musicBtn = document.getElementById("musicBtn");
  const bgm = document.getElementById("bgm");

  let currentSlide = 0;

  function updateLetter() {
    slidesContainer.innerHTML = "";
    slides.forEach((slide, index) => {
      const slideEl = document.createElement("div");
      slideEl.classList.add("slide");
      slideEl.innerHTML = `<h2>${slide.title}</h2><p>${slide.body}</p>`;
      slidesContainer.appendChild(slideEl);
    });

    dotsEl.innerHTML = "";
    slides.forEach((_, index) => {
      const dot = document.createElement("div");
      dot.classList.add("dot");
      if (index === currentSlide) dot.classList.add("active");
      dotsEl.appendChild(dot);
    });

    const offset = -currentSlide * 100;
    slidesContainer.style.transform = `translateX(${offset}%)`;
  }

  function nextSlide() {
    if (currentSlide < slides.length - 1) currentSlide++;
    updateLetter();
  }

  function prevSlide() {
    if (currentSlide > 0) currentSlide--;
    updateLetter();
  }

  prevBtn.addEventListener("click", prevSlide);
  nextBtn.addEventListener("click", nextSlide);

  musicBtn.addEventListener("click", () => {
    if (bgm.paused) {
      bgm.play();
      musicBtn.textContent = "♫ On";
    } else {
      bgm.pause();
      musicBtn.textContent = "♫ Off";
    }
  });

  ribbon.addEventListener("click", () => {
    letter.classList.toggle("open");
  });

  document.addEventListener("DOMContentLoaded", () => {
    titleEl.textContent = `La mulți ani, ${RECIPIENT_NAME}!`;
    updateLetter();
  });
</script>

